# Настройка локальных файлов

Этот проект может работать полностью офлайн без использования CDN.

## Шаг 1: Скачать все ресурсы

### Windows (PowerShell):

**Важно:** Если это первый запуск PowerShell скриптов, может потребоваться разрешить их выполнение:

```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

Затем запустите скрипт:

```powershell
.\download_assets.ps1
```

Скрипт автоматически:
- Создаст структуру папок
- Скачает последнюю версию Data Dragon
- Скачает JSON данные всех чемпионов (EN + RU)
- Скачает все изображения чемпионов
- Скачает все иконки способностей и пассивных умений

**Время выполнения:** ~5-10 минут (зависит от скорости интернета)

## Шаг 2: Конвертировать JSON в JavaScript (для статического использования)

**Важно:** Для работы без сервера через `file://` протокол:

```powershell
.\convert_json_to_js.ps1
```

Это создаст файл `champion_data.js` (~50 МБ) со всеми данными чемпионов.

## Шаг 3: Проверить структуру файлов

После выполнения скрипта должна быть следующая структура:

```
LOL/
├── index.html
├── script.js
├── styles.css
├── download_assets.ps1
├── data/
│   ├── version.txt                    # Версия Data Dragon
│   ├── champion_list_en.json          # Список чемпионов (EN)
│   ├── champion_list_ru.json          # Список чемпионов (RU)
│   └── champion/
│       ├── Aatrox_en.json            # Детали чемпиона (EN)
│       ├── Aatrox_ru.json            # Детали чемпиона (RU)
│       ├── Ahri_en.json
│       ├── Ahri_ru.json
│       └── ... (все чемпионы)
├── images/
│   ├── champion/
│   │   ├── Aatrox.png                # Иконки чемпионов
│   │   ├── Ahri.png
│   │   └── ...
│   ├── spell/
│   │   ├── AatroxQ.png               # Иконки способностей
│   │   ├── AhriOrbofDeception.png
│   │   └── ...
│   └── passive/
│       ├── Aatrox_Passive.png        # Иконки пассивок
│       ├── Ahri_SoulEater.png
│       └── ...
```

## Шаг 4: Открыть сайт

### ✨ Вариант 1: Статическое открытие (Рекомендуется)

Просто дважды кликните на `index.html` или откройте его в браузере!

**Работает в:**
- ✅ Chrome
- ✅ Firefox
- ✅ Edge
- ✅ Любом современном браузере

Никакой сервер не нужен! Все данные загружаются из файла `champion_data.js`.

### Вариант 2: С локальным сервером (опционально)

Если хотите использовать сервер:

```powershell
# Python 3
python -m http.server 8000
```

Затем откройте: http://localhost:8000

## Переключение между локальными и CDN файлами

В файле `script.js` найдите строку:

```javascript
const USE_LOCAL_FILES = true; // Использовать локальные файлы вместо CDN
```

- `true` - использовать локальные файлы (офлайн режим)
- `false` - использовать CDN Data Dragon (онлайн режим)

## Обновление данных

Когда выходит новый патч:

1. Удалите папки `data` и `images`
2. Запустите `.\download_assets.ps1` снова
3. Обновите страницу в браузере (Ctrl+F5)

## Размер файлов

Примерные размеры:
- **JSON данные:** ~50 МБ (в папке `data/`)
- **champion_data.js:** ~50 МБ (объединенный JS файл)
- **Изображения чемпионов:** ~30 МБ
- **Иконки способностей:** ~100 МБ
- **Иконки пассивок:** ~20 МБ

**Итого:** ~250 МБ (включая `champion_data.js`)

## Устранение неполадок

### Ошибка "Не удалось загрузить локальную версию"

- Убедитесь что скрипт `download_assets.ps1` успешно выполнился
- Проверьте что файл `data/version.txt` существует

### Изображения не загружаются

- Проверьте что папки `images/champion`, `images/spell`, `images/passive` содержат файлы
- Откройте консоль браузера (F12) и проверьте ошибки загрузки

### Чемпионы не отображаются

- Проверьте что файлы в `data/champion/` существуют
- Убедитесь что используется локальный сервер (а не просто открытие файла)

## Преимущества локального режима

✅ Работает полностью офлайн  
✅ Мгновенная загрузка без задержек CDN  
✅ Не зависит от доступности серверов Riot  
✅ Полный контроль над версией данных  
✅ Никаких CORS проблем

